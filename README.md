# DB_HACK

Этот скрипт предназначен для редактирования базы данных в электронном дневнике. Он позволяет исправлять школьные оценки, стирать негативные замечания и записывать похвалу от учителей.


## Запуск

Перед запуском скрипат необходимо скачать с github репозиторий [сайта e-diary](https://github.com/devmanorg/e-diary), и выполнить настроку, описанную там в README.md.
Затем поместить в корень папки с проектом расспакованную из [архива](https://dvmn.org/filer/canonical/1562234129/166/) базу данных и файл `script.py` из этого репозитория.

Если у вас есть доступ к серверу с настоящим сайтом e-diary, то только скрипт необходимо поместить рядом с файлом `manage.py`.

Для выполнения скрипта в отдельном окне терминала войдите в папку с проектом и наберите следующию команду для запуска [Django Shell](https://www.csestack.org/open-python-shell-django/):

```sh
python3 manage.py shell
```

Подклчите скрипт:

```python
from script import *
```

Перед любым редактированием необходимо выбрать конкретного ученика командой:

```python
schoolkid = get_schoolkid('Иван Иванов')
```

В случае удачного выполнения функция ничего не выводит, но если вы увидели сообщение, то попробуйте выбрать ученика с другим ФИО.

---

### Исправление оценок

Следующая команда заменит все оценки ученика с '2' и '3' на '5':

```python
fix_marks(schoolkid)
```

---

### Удаление замечаний

Следующая команда удалит все негативные коментарии от учителей к ученику:

```python
remove_chastisements(schoolkid)
```

---

### Добавить хвалебный отзыв

Следующая команда добавит случайный положительный отзыв от учителя к ученику по определенному предмету за последний проведенный урок.
Первым аргументом необходимо передать ученика, а вторым название предмета:

```python
create_commendation(schoolkid, 'Математика')
```

В случае удачного выполнения функция ничего не выводит, но если вы увидели сообщение, то попробуйте выбрать предмет с другим названием.

---

Для выхода из интерактивного режима python нажимте `cmd + D` или введите:

```python
exit()
```


### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
